var modalContainer=document.getElementById("modal-con"),modalAcceptBtn=document.getElementById("modal-accept"),modalDeclineBtn=document.getElementById("modal-decline"),modalCloseBtn=document.getElementById("modal-close"),modalText=document.getElementById("modal-text"),modalInputText=document.getElementById("modal-input-text"),modalForm=document.getElementById("modal-form");function showModal(e){modalContainer.style.display="flex",modalText.innerHTML=e}function showModalPrompt(){modalContainer.style.display="flex",modalText.innerHTML="Wpisz kod:",modalInputText.style.display="inline-block",modalInputText.focus(),modalAcceptBtn.onclick=function(){modalForm.submit()}}function showModalError(e,n){modalContainer.style.display="flex",modalText.innerHTML=e,modalCloseBtn.onclick=function(){window.location.replace(n)},modalAcceptBtn.onclick=function(){window.location.replace(n)},modalDeclineBtn.onclick=function(){window.location.replace(n)}}function enrollmentChangesRedirect(){if(null==getCookie("uid"))showModalPrompt();else{var e=getCookieValue("uid");location.href="?uID="+e}}function setCookie(e,n,t,o){let i=new Date;i.setTime(i.getTime()+864e5*t);let l="expires="+i.toUTCString();var a=window.location.pathname,c=a.substring(0,a.lastIndexOf("/"));if(document.cookie=e+"="+n+";"+l+";path="+c,"uid"==e){setCookie("nameSurname",nameSurname,90);var d=document.getElementById("cookie-button");d.setAttribute("onclick","deleteCookie('uid', '"+o+"');"),d.textContent="Usuń kod z pamięci przeglądarki"}showModal("Kod został poprawnie zapisany w pamięci przeglądarki.<br>Informacje będą przechowywane na Twoim urządzeniu przez maksymalnie 90 dni.")}function deleteCookie(e,n){var t=window.location.pathname,o=t.substring(0,t.lastIndexOf("/"));if(document.cookie=e+"=;expires=Thu, 01 Jan 1970 00:00:00 UTC; path="+o,"uid"==e){deleteCookie("nameSurname");var i=document.getElementById("cookie-button");i.setAttribute("onclick","setCookie('uid', '"+n+"', 90, '"+n+"');"),i.textContent="Zapisz kod w pamięci przeglądarki"}showModal("Informacje zostały trwale usunięte z pamięci przeglądarki.")}function getCookie(e){var n=document.cookie,t=e+"=",o=n.indexOf("; "+t);if(-1==o){if(0!=(o=n.indexOf(t)))return null}else{o+=2;var i=document.cookie.indexOf(";",o);-1==i&&(i=n.length)}return decodeURI(n.substring(o+t.length,i))}function getCookieValue(e){var n=`; ${document.cookie}`.split(`; ${e}=`);if(2===n.length)return n.pop().split(";").shift()}function checkCookieMessage(e){var n=document.getElementById("cookie-button");null==getCookie("uid")?(n.textContent="Zapisz kod w pamięci przeglądarki",n.setAttribute("onclick","setCookie('uid', '"+e+"', 90, '"+e+"');")):(n.textContent="Usuń kod z pamięci przeglądarki",n.setAttribute("onclick","deleteCookie('uid', '"+e+"');"))}function checkCookieEnrollmentBeginButton(){var e=document.getElementById("enrollment-begin-button-container");if(null!=getCookie("nameSurname")){var n=getCookieValue("nameSurname");e.innerHTML="Witamy ponownie, "+n+"!"}}modalCloseBtn.onclick=function(){modalContainer.style.display="none"},modalAcceptBtn.onclick=function(){modalContainer.style.display="none"},modalDeclineBtn.onclick=function(){modalContainer.style.display="none"};var btnNavBegin=document.getElementById("btn-nav-begin"),btnNavChanges=document.getElementById("btn-nav-changes"),btnNavResults=document.getElementById("btn-nav-results");btnNavBegin.onclick=function(){location.href="?uID=new"},btnNavChanges.onclick=function(){enrollmentChangesRedirect()},btnNavResults.onclick=function(){location.href="wyniki"};